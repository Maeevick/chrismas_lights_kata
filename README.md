# TS kata sandbox

Just a minimalist sandbox/boilerplate to train your skills with typescript, eslint and jest on kata/exercices or something else.

### Main scripts

:warning: **Warning**: I decided to switch from yarn 1.22 to npm due to problems to manage dependencies between Jest 27 and Stryker 5

:arrow_right: **Obvious Note**: Node 16 (Long Time Support) is recommended in any context.

:arrow_right: **Obvious Note**: install dependencies
```shell
npm i
```
- **execute a typescript program / file** (_works on javascript program too_) 
```shell
npm run start [your file/entry point]

npm run start src/welcome.ts # for example
```

- **execute all tests files once** 
```shell
npm run test
```

- **execute all tests files** (_impacted by changes_) **in watch mode** (a.k.a. on save) 
```shell
npm run test:watch
```

- **execute mutation testing** 
```shell
npm run test:mutate
```
:arrow_right: **Note**: configured with very high threshold, you can change them in : `stryker.conf.json`

- **execute all the CI's workflow** (tsc for transpilation, eslint for linter, test:coverage and test:mutate) 
```shell
npm run ci
```

:warning: **Warning**: Mutation Testing may be very time consuming

### Reports

- **traditional coverage report generated by** `jest` **is in** `/reports/coverage/lcov-report/`

:warning: **Warning**: Coverage report is not 100% trustable, as you may know, it displays only the code covered by execution, **coverage doesn't mean : this code is tested, it means this code has been executed during tests !!**

- **mutation testing report generated by** `stryker` **is in** `/reports/mutation/html/`

:warning: **Warning**: Mutation testing challenges your tests and your coverage, report is more relevant than "traditional coverage" however it's not silver bullet (read documentation [here](https://stryker-mutator.io/) about limitations)

- **train your Test-Driven Development techniques**, step by step you will need less and less Coverage and Mutation Testing because **great TDD (_and TCR_) is best way to have only useful tested code in a fast and trustable manner.** 

### Linter

- Eslint uses mainly the `standard` and `recommended` set of rules, with few personnal preferences, feel free to change it in : `.eslintrc.json` to be confortable.
